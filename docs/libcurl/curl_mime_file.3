.\" **************************************************************************
.\" *                                  _   _ ____  _
.\" *  Project                     ___| | | |  _ \| |
.\" *                             / __| | | | |_) | |
.\" *                            | (__| |_| |  _ <| |___
.\" *                             \___|\___/|_| \_\_____|
.\" *
.\" * Copyright (C) 1998 - 2017, Daniel Stenberg, <daniel@haxx.se>, et al.
.\" *
.\" * This software is licensed as described in the file COPYING, which
.\" * you should have received as part of this distribution. The terms
.\" * are also available at https://curl.haxx.se/docs/copyright.html.
.\" *
.\" * You may opt to use, copy, modify, merge, publish, distribute and/or sell
.\" * copies of the Software, and permit persons to whom the Software is
.\" * furnished to do so, under the terms of the COPYING file.
.\" *
.\" * This software is distributed on an "AS IS" basis, WITHOUT WARRANTY OF ANY
.\" * KIND, either express or implied.
.\" *
.\" **************************************************************************
.TH curl_mime_file 3 "22 August 2017" "libcurl 7.56.0" "libcurl Manual"
.SH NAME
curl_mime_file - set a mime part's body data from a file pointer
.SH SYNOPSIS
.B #include <curl/curl.h>
.sp
.BI "CURLcode curl_mime_file(curl_mimepart * " part ", FILE * " fp ,
.BI " int " closewhendone ");"
.ad
.SH DESCRIPTION
curl_mime_file() sets a mime part's body content to be read from a
file pointer.

\fIpart\fP is the part's to assign contents to.
\fIfp\fP is an open file pointer capable of reading. If the file can be sought,
effective data size is computed. If set to NULL, previous data source is
detached from the part.
If \fIclosewhendone\fP is non-zero, the file descriptor will be closed upon
mime structure freeing.

If the effective data size cannot be determined, some operations will fail if
attempted later such as data resend or use in IMAP. In addition, this will
cause HTTP to use chunked transfer encoding.

Setting a part's contents twice is valid: only the value set by the last call
is retained.
.SH RETURN VALUE
CURLE_OK or a CURL error code upon failure.

.SH "SEE ALSO"
.BR curl_mime_addpart "(3),"
.BR curl_mime_filedata "(3)"
